(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6db4f7f0"],{"21c6":function(t,e,c){"use strict";c("ee78")},5849:function(t,e,c){t.exports=c.p+"img/i-bike-sm.775ee328.svg"},"90b0":function(t,e,c){"use strict";var a=c("7a23"),n=c("5849"),s=c.n(n),r=function(t){return Object(a["C"])("data-v-033fc5ed"),t=t(),Object(a["A"])(),t},i={class:"nav"},l={class:"navbar navbar-expand-lg navbar-light bg-light text-dark fixed-top"},o={class:"container-fluid"},b=r((function(){return Object(a["h"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["h"])("span",{class:"navbar-toggler-icon"})],-1)})),d=r((function(){return Object(a["h"])("img",{src:s.a,alt:"i-Bike"},null,-1)})),u={class:"d-flex d-md-block pt-1 me-2 order-lg-last"},h=r((function(){return Object(a["h"])("a",{class:"navbar-brand text-dark a-hover",href:"#/admin/product"},[Object(a["h"])("i",{class:"fas fa-user-circle"})],-1)})),f=r((function(){return Object(a["h"])("i",{class:"fas fa-shopping-cart"},null,-1)})),j={key:0,class:"badge text-light bg-danger"},O={class:"dropdown-menu dropdown-menu-end cart-box p-3 me-3"},g={key:0,class:"fw-bold"},p={class:"table-responsive-md"},v={class:"table table-sm"},m=r((function(){return Object(a["h"])("thead",{class:"table-dark"},[Object(a["h"])("tr",{class:"table-nowrap text-center"},[Object(a["h"])("th",null,"商品名稱"),Object(a["h"])("th",null,"數量"),Object(a["h"])("th",{class:"text-end"},"價格"),Object(a["h"])("th")])],-1)})),k={class:"text-center"},x={class:"text-end"},w={class:"text-center"},y=["onClick"],C=r((function(){return Object(a["h"])("i",{class:"fas fa-trash-alt text-danger"},null,-1)})),z=[C],L={key:1,class:"fw-bold text-center mb-3"},_={class:"d-flex justify-content-end"},M=r((function(){return Object(a["h"])("i",{class:"fas fa-shopping-cart"},null,-1)})),$=Object(a["j"])(" 結帳去 "),T=[M,$],I=r((function(){return Object(a["h"])("i",{class:"fas fa-shopping-basket"},null,-1)})),P=Object(a["j"])(" 選購去 "),J=[I,P],N=Object(a["i"])('<div class="collapse navbar-collapse" id="navbarToggler" data-v-033fc5ed><ul class="navbar-nav me-auto my-2 my-lg-0" data-v-033fc5ed><li class="nav-item pt-1" data-v-033fc5ed><a href="#/products/all" class="nav-link text-dark a-hover fw-bold" data-v-033fc5ed>產品</a></li><li class="nav-item pt-1" data-v-033fc5ed><a href="#/checkOrder" class="nav-link text-dark a-hover fw-bold" data-v-033fc5ed>訂單查詢</a></li><li class="nav-item pt-1" data-v-033fc5ed><a href="#/followPage" class="nav-link text-dark a-hover fw-bold" data-v-033fc5ed>我的收藏</a></li><li class="nav-item pt-1" data-v-033fc5ed><a href="#/about" class="nav-link text-dark a-hover fw-bold" data-v-033fc5ed>關於 i-Bike</a></li></ul></div>',1);function E(t,e,c,n,s,r){var C=Object(a["J"])("Loading"),M=Object(a["J"])("router-link");return Object(a["z"])(),Object(a["g"])("div",i,[Object(a["k"])(C,{active:s.isLoading,"onUpdate:active":e[0]||(e[0]=function(t){return s.isLoading=t})},null,8,["active"]),Object(a["h"])("nav",l,[Object(a["h"])("div",o,[b,Object(a["k"])(M,{to:"/",class:"nav-link"},{default:Object(a["W"])((function(){return[d]})),_:1}),Object(a["h"])("div",u,[h,Object(a["h"])("a",{class:"navbar-brand text-dark me-0 a-hover cart",href:"#",onClick:e[1]||(e[1]=Object(a["Y"])((function(){}),["prevent"])),"data-bs-toggle":"dropdown"},[f,s.carts.length>0?(Object(a["z"])(),Object(a["g"])("span",j,Object(a["M"])(s.carts.length),1)):Object(a["f"])("",!0)]),Object(a["h"])("div",O,[s.carts.length>0?(Object(a["z"])(),Object(a["g"])("h5",g,"已選購商品")):Object(a["f"])("",!0),Object(a["h"])("div",p,[Object(a["h"])("table",v,[m,Object(a["h"])("tbody",null,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(s.carts,(function(e){return Object(a["z"])(),Object(a["g"])("tr",{class:"table-nowrap",key:e.id},[Object(a["h"])("td",null,Object(a["M"])(e.product.title),1),Object(a["h"])("td",k,Object(a["M"])(e.qty),1),Object(a["h"])("td",x,"NT$ "+Object(a["M"])(t.$filters.currency(e.total)),1),Object(a["h"])("td",w,[Object(a["h"])("a",{href:"#",onClick:Object(a["Y"])((function(t){return r.delCart(e.id)}),["prevent"])},z,8,y)])])})),128))])])]),0==s.carts.length?(Object(a["z"])(),Object(a["g"])("h5",L,"產品尚未加入購物車!")):Object(a["f"])("",!0),Object(a["h"])("div",_,[s.carts.length>0?(Object(a["z"])(),Object(a["g"])("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[2]||(e[2]=function(){return r.goCart&&r.goCart.apply(r,arguments)})},T)):(Object(a["z"])(),Object(a["g"])("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[3]||(e[3]=function(){return r.goProducts&&r.goProducts.apply(r,arguments)})},J))])])]),N])])])}c("99af");var Y={name:"Navber",data:function(){return{isLoading:!1,carts:[]}},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ibike","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){e.data.success&&(t.carts=e.data.data.carts,t.isLoading=!1)}))},delCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ibike","/cart/").concat(t);this.isLoading=!0,this.$http.delete(c).then((function(t){t.data.success?(e.emitter.emit("message:push",{message:t.data.message,status:"danger"}),e.getCart(),e.isLoading=!1):(e.emitter.emit("message:push",{message:t.data.message,status:"danger"}),e.isLoading=!1)}))},goCart:function(){this.$router.push("/cart")},goProducts:function(){this.$router.push("/products/all")}},created:function(){this.getCart(),this.emitter.on("resetCart",this.getCart)}},S=(c("b3e0"),c("6b0d")),A=c.n(S);const B=A()(Y,[["render",E],["__scopeId","data-v-033fc5ed"]]);e["a"]=B},"99af":function(t,e,c){"use strict";var a=c("23e7"),n=c("d039"),s=c("e8b5"),r=c("861d"),i=c("7b0b"),l=c("07fa"),o=c("8418"),b=c("65f0"),d=c("1dde"),u=c("b622"),h=c("2d00"),f=u("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",g=h>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),p=d("concat"),v=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},m=!g||!p;a({target:"Array",proto:!0,forced:m},{concat:function(t){var e,c,a,n,s,r=i(this),d=b(r,0),u=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?r:arguments[e],v(s)){if(n=l(s),u+n>j)throw TypeError(O);for(c=0;c<n;c++,u++)c in s&&o(d,u,s[c])}else{if(u>=j)throw TypeError(O);o(d,u++,s)}return d.length=u,d}})},b0c0:function(t,e,c){var a=c("83ab"),n=c("5e77").EXISTS,s=c("9bf2").f,r=Function.prototype,i=r.toString,l=/^\s*function ([^ (]*)/,o="name";a&&!n&&s(r,o,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(t){return""}}})},b3e0:function(t,e,c){"use strict";c("c0f3")},be8c:function(t,e,c){"use strict";c.r(e);c("b0c0");var a=c("7a23"),n=function(t){return Object(a["C"])("data-v-2e094f6f"),t=t(),Object(a["A"])(),t},s={class:"checkoutPay"},r={class:"container"},i={class:"d-flex justify-content-center align-items-center mb-5"},l=n((function(){return Object(a["h"])("h5",{class:"fw-bold mb-0 text-black-50"},"填寫資料",-1)})),o=n((function(){return Object(a["h"])("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1)})),b=n((function(){return Object(a["h"])("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1)})),d={class:"row d-flex justify-content-center"},u={class:"col-md-8"},h={key:0,class:"d-flex align-items-center"},f=n((function(){return Object(a["h"])("i",{class:"fas fa-truck fs-3 me-3"},null,-1)})),j=n((function(){return Object(a["h"])("h2",{class:"fw-bold mb-0"},"感謝您的購買 !",-1)})),O=[f,j],g={key:1,class:"fw-bold mt-4 mb-5"},p=n((function(){return Object(a["h"])("h2",{class:"fs-3 text-center fw-bold"},"商品明細",-1)})),v={class:"table-responsive-md mt-4"},m={class:"table lh-lg"},k=n((function(){return Object(a["h"])("thead",{class:"table-dark text-center"},[Object(a["h"])("tr",{class:"table-nowrap"},[Object(a["h"])("th",null,"商品名稱"),Object(a["h"])("th",null,"數量"),Object(a["h"])("th",{width:"200",class:"text-end"},"價格")])],-1)})),x={class:"text-center"},w={class:"text-end"},y={class:"text-center"},C=n((function(){return Object(a["h"])("td",{colspan:"2",class:"text-end"},"總價 :",-1)})),z={class:"text-end"},L=n((function(){return Object(a["h"])("h2",{class:"fs-3 text-center fw-bold mt-5"},"寄送明細",-1)})),_={class:"table-responsive-md"},M={class:"table lh-lg"},$={class:"table-nowrap"},T=n((function(){return Object(a["h"])("th",{width:"100",class:"fw-bold text-end"},"訂單編號 :",-1)})),I={class:"table-nowrap"},P=n((function(){return Object(a["h"])("th",{width:"100",class:"fw-bold text-end"},"訂購日期 :",-1)})),J={class:"table-nowrap"},N=n((function(){return Object(a["h"])("th",{width:"100",class:"fw-bold text-end"},"Email :",-1)})),E={class:"table-nowrap"},Y=n((function(){return Object(a["h"])("td",{width:"100",class:"fw-bold text-end"},"姓名 :",-1)})),S={class:"table-nowrap"},A=n((function(){return Object(a["h"])("td",{width:"100",class:"fw-bold text-end"},"收件人電話 :",-1)})),B={class:"table-nowrap"},F=n((function(){return Object(a["h"])("td",{width:"100",class:"fw-bold text-end"},"收件人地址 :",-1)})),q={class:"table-nowrap"},H=n((function(){return Object(a["h"])("td",{width:"100",class:"fw-bold text-end"},"付款狀態 :",-1)})),U={key:0},W={key:1,class:"text-strong"},X={class:"d-flex justify-content-center mt-3 mt-md-5"};function D(t,e,c,n,f,j){var D=Object(a["J"])("Navber"),G=Object(a["J"])("Loading"),K=Object(a["J"])("Footer");return Object(a["z"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(D),Object(a["h"])("div",s,[Object(a["k"])(G,{active:f.isLoading,"onUpdate:active":e[0]||(e[0]=function(t){return f.isLoading=t})},null,8,["active"]),Object(a["h"])("div",r,[Object(a["h"])("div",i,[l,o,Object(a["h"])("h5",{class:Object(a["s"])(["fw-bold mb-0 text-black-50",{active:!f.order.is_paid}])},"確認付款",2),b,Object(a["h"])("h5",{class:Object(a["s"])(["text-black-50 fw-bold mb-0",{active:f.order.is_paid}])},"訂單完成",2)]),Object(a["h"])("div",d,[Object(a["h"])("div",u,[f.order.is_paid?(Object(a["z"])(),Object(a["g"])("div",h,O)):Object(a["f"])("",!0),f.order.is_paid?(Object(a["z"])(),Object(a["g"])("h6",g,"親愛的顧客您好，您已付款成功，商品將於 20 日內送達 !")):Object(a["f"])("",!0),p,Object(a["h"])("div",v,[Object(a["h"])("table",m,[k,Object(a["h"])("tbody",x,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(f.order.products,(function(e){return Object(a["z"])(),Object(a["g"])("tr",{class:"table-nowrap",key:e.id},[Object(a["h"])("td",null,Object(a["M"])(e.product.title),1),Object(a["h"])("td",null,Object(a["M"])(e.qty),1),Object(a["h"])("td",w,"NT$ "+Object(a["M"])(t.$filters.currency(e.final_total))+" 元",1)])})),128))]),Object(a["h"])("tfoot",y,[Object(a["h"])("tr",null,[C,Object(a["h"])("td",z,"NT$ "+Object(a["M"])(t.$filters.currency(f.order.total))+" 元",1)])])])]),L,Object(a["h"])("div",_,[Object(a["h"])("table",M,[Object(a["h"])("tbody",null,[Object(a["h"])("tr",$,[T,Object(a["h"])("td",null,Object(a["M"])(f.order.id),1)]),Object(a["h"])("tr",I,[P,Object(a["h"])("td",null,Object(a["M"])(t.$filters.date(f.order.create_at)),1)]),Object(a["h"])("tr",J,[N,Object(a["h"])("td",null,Object(a["M"])(f.order.user.email),1)]),Object(a["h"])("tr",E,[Y,Object(a["h"])("td",null,Object(a["M"])(f.order.user.name),1)]),Object(a["h"])("tr",S,[A,Object(a["h"])("td",null,Object(a["M"])(f.order.user.tel),1)]),Object(a["h"])("tr",B,[F,Object(a["h"])("td",null,Object(a["M"])(f.order.user.address),1)]),Object(a["h"])("tr",q,[H,Object(a["h"])("td",null,[f.order.is_paid?Object(a["f"])("",!0):(Object(a["z"])(),Object(a["g"])("span",U,"尚未付款")),f.order.is_paid?(Object(a["z"])(),Object(a["g"])("span",W,"付款完成")):Object(a["f"])("",!0)])])])])]),Object(a["h"])("div",X,[f.order.is_paid?Object(a["f"])("",!0):(Object(a["z"])(),Object(a["g"])("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[1]||(e[1]=function(t){return j.pay()})},"確認付款")),f.order.is_paid?(Object(a["z"])(),Object(a["g"])("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:e[2]||(e[2]=function(t){return j.goProducts()})},"繼續逛逛")):Object(a["f"])("",!0)])])])])]),Object(a["k"])(K)],64)}c("99af");var G=c("90b0"),K=c("fd2d"),Q={name:"CheckoutPay",components:{Navber:G["a"],Footer:K["a"]},data:function(){return{isLoading:!1,orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ibike","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(e).then((function(e){e.data.success&&(t.order=e.data.order,t.isLoading=!1)}))},pay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ibike","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(e).then((function(e){e.data.success&&(t.emitter.emit("message:push",{message:e.data.message,status:"success"}),t.getOrder(),document.documentElement.scrollTop=0)}))},goProducts:function(){this.$router.push("/products/all")}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},R=(c("cafc"),c("6b0d")),V=c.n(R);const Z=V()(Q,[["render",D],["__scopeId","data-v-2e094f6f"]]);e["default"]=Z},c0f3:function(t,e,c){},cafc:function(t,e,c){"use strict";c("d889")},d889:function(t,e,c){},ee78:function(t,e,c){},fd2d:function(t,e,c){"use strict";var a=c("7a23"),n={class:"footer bg-dark mt-3 py-4 mt-md-5"},s={class:"container"},r=Object(a["h"])("ul",{class:"list-inline text-center"},[Object(a["h"])("li",{class:"list-inline-item text-light"}," © Copyright 2021 i-Bike ")],-1),i=Object(a["h"])("ul",{class:"list-inline text-center"},[Object(a["h"])("li",{class:"list-inline-item text-light"}," 個人練習作品，非商業用途 ")],-1),l={class:"list-inline text-center mb-0"},o={class:"list-inline-item"},b=Object(a["h"])("i",{class:"fab fa-facebook"},null,-1),d=[b],u={class:"list-inline-item ms-2"},h=Object(a["h"])("i",{class:"fab fa-facebook-messenger"},null,-1),f=[h],j={class:"list-inline-item ms-2"},O=Object(a["h"])("i",{class:"fab fa-instagram"},null,-1),g=[O],p=Object(a["h"])("li",{class:"list-inline-item ms-2"},[Object(a["h"])("a",{class:"text-light",href:"https://github.com/boris0510",target:"_blank"},[Object(a["h"])("i",{class:"fab fa-github"})])],-1);function v(t,e){return Object(a["z"])(),Object(a["g"])("footer",n,[Object(a["h"])("div",s,[r,i,Object(a["h"])("ul",l,[Object(a["h"])("li",o,[Object(a["h"])("a",{class:"text-light",href:"#",onClick:e[0]||(e[0]=Object(a["Y"])((function(){}),["prevent"]))},d)]),Object(a["h"])("li",u,[Object(a["h"])("a",{class:"text-light",href:"#",onClick:e[1]||(e[1]=Object(a["Y"])((function(){}),["prevent"]))},f)]),Object(a["h"])("li",j,[Object(a["h"])("a",{class:"text-light",href:"#",onClick:e[2]||(e[2]=Object(a["Y"])((function(){}),["prevent"]))},g)]),p])])])}c("21c6");var m=c("6b0d"),k=c.n(m);const x={},w=k()(x,[["render",v]]);e["a"]=w}}]);
//# sourceMappingURL=chunk-6db4f7f0.677f18b6.js.map